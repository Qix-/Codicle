<!doctype html>
<html>
	<head>
		<title>Codicle | Ace + Console Tickscript Test</title>
		<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			position: relative;
			border: none;
		}

		html, body {
			width: 100%;
			height: 100%;
		}

		#left, #right {
			width: 50%;
			height: 100%;
			display: inline-block;
			position: absolute;
		}

		#left {
			top: 0px;
			left: 0px;
		}

		#right {
			top: 0px;
			right: 0px;
		}

		#right > div {
			height: 95%;
			width: 100%;
			display: block;
			background-color: #222;
			color: lightgray;
			font-family: "Consolas", "Courier New", "Courier MS", monospace;
			font-size: 11px;
			overflow-x: auto;
			overflow-y: scroll;
		}

		#right input {
			height: 30px;
			width: 100%;
			background-color: #222;
			color: lightgray;
			font-family: "Consolas", "Courier New", "Courier MS", monospace;
			font-size: 11px;
			border: none;
		}
		</style>
		<link rel="stylesheet" type="text/css" href="../deps/bashjs/css/bash-ansi.css" />
		<script type="text/javascript">
		window.Codicle = {};
		</script>
		<script type="text/javascript" src="../deps/ace/ace-builds/src-noconflict/ace.js"></script>
		<script type="text/javascript" src="../deps/bashjs/lib/Bash-Ansi.js"></script>
		<script type="text/javascript" src="../pkg/static/js/TickScript-v1-Receiver.js"></script>
		<script type="text/javascript" src="../pkg/static/js/TickScript-v1-Receiver-Ace.js"></script>
		<script type="text/javascript" src="../pkg/static/js/TickScript-v1-Parser.js"></script>
		<script type="text/javascript" src="../pkg/static/js/TickScript-v1-Interpreter.js"></script>
		<script type="text/javascript" src="../pkg/static/js/Cmd-Parser.js"></script>
		<script type="text/javascript" src="../pkg/static/js/Cmd-Interpreter.js"></script>
		<script type="text/javascript" src="../pkg/static/js/TickScript.js"></script>
		<script type="text/javascript">
		window.addEventListener("load", function()
		{
			window.editor = ace.edit('left');

			// Create some ticks
			var ticks = "H>pAG@0,0;2CE:TBD:hAF:iAI:sB: BB:wAI:iAF:lBE:lAI: B:bAI:eAI: B:aBD:nB: BB:iAG:nAF:tBB:eB:rAI:eBB:sB:tB:iAI:nB:gAI: 1AJ:tB:eBG:sBG:tCH^LF^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^L3BI:eBG:cBB:hB:oH: 1AH^RF^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RCH^RJG:!1AD#1IC:mBD:aB:nBB: BB:mB:aB:nCB#2EG:eBH:cAI:hAG:oBB: EG:11CI<1GI:J1BB:HC:UBH:ABD:NGB:.BB:.BE:.BD: 1IE:TEI:WFB<DC:OD:OGE<BB<AH:EAI:WHI:.BD:.BD:.BB: H:SCH:RBJ:EBI:EBE:EEC:.BD:.D:.BJ: IG:FBG:IE:EBD:EBJ:VGB:.BD:.BB:.AC: CG:FB:IBD:EBE:EBD:EBJ:VDC:.BD: CC:FBD:ICG:EBE:EBE:EBI:EBJ:VBE:VBG:VBG:VBG:VC#1GF:hAF:aAI:hAG:aAG:hAI:aCB<BD<FJ^LBB^LBD^LEF^LEF^RBE^RBD^RBD^REG<BD<BD<BB<BB<GH:IBB: B:wAI:iAG:lBD:lAI: BI:dBI:eAF:lB:eBE:tBD:eBB: AF:tAI:hAG:eBB: 2:cBD:aB:pBE:iB:tDI:oBJ:lED: DF:EBG:ECE:EI:'BB:sBD: EH<BJ::BE: DF:EBI:EBG:EH:eBG:eBG:eFB:EBG:EBG:EFB:eBE:eBE:eJD^LCG^LCJ^LHC^LCD^LBH^LGH/CG/CJ/DJ^LCD^LC^LGG^LCB^LBE^LDE/D/DC/FE^RCE^RD^REG^RCB^RBG^RBI^RHH: BB:aAI:nB:dAG: AI:nAI:oAG:wAI: CE:bBB:aD:cEC:kD:sAF:pB:aAF:cCB:eB: AI:tAI:hAI:eB: 2HH:lBE:oB:wAG:eBB:rBD: CE:oB:nBB:eBE:sCH^LF^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LDD^RBE^RBE^RCH^LDH^RCE^L1BI<CH<CC<CG<CC<D<IF<1IH^LF^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LAD^LBH^LBE^LBE^LBD^LBD^LCH^LEF:eBJ:cBD:hAI:oCE: 1CC^RF^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RAD^RCF^RCJ:!1CF#";

			// Create a TickScript
			var tickScript = {
				"version": "v1",
				"name": "Test Tickscript",
				"author": "Qix",
				"audio": "null",
				"bgm": "null",
				"chapters": {},
				"ticks": ticks
			};

			// Create CLI
			var cli = new Codicle.CLI(
				document.querySelector('input'),
				document.querySelector('#output')
				);

			// Generate object
			var script = new Codicle.Script(tickScript, editor, cli);

			// Timeout all events
			for(var i = 0, len = script.commands.events.length; i < len; i++) {
				setTimeout(script.commands.events[i][1], script.commands.events[i][0] * 1000)
			}
		});
		</script>
	</head>
	<body>
		<div id="left"></div>
		<div id="right">
			<div id="output"></div>
			<input type="text" id="input" />
		</div>
	</body>
</html>